import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as r}from"./app-Bhrl3aEc.js";const h={};function n(o,t){return r(),a("div",null,[...t[0]||(t[0]=[e('<h2 id="消息基类" tabindex="-1"><a class="header-anchor" href="#消息基类"><span>消息基类</span></a></h2><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td>string</td><td>消息类型</td></tr><tr><td>data</td><td>未知</td><td>消息数据</td></tr><tr><td>raw?</td><td>未知</td><td>平台原始字段</td></tr></tbody></table><h2 id="文本消息" tabindex="-1"><a class="header-anchor" href="#文本消息"><span>文本消息</span></a></h2><p>继承自<a href="#%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td><code>text</code></td><td>消息类型</td></tr><tr><td>data</td><td>string</td><td>文本数据</td></tr><tr><td>markdown</td><td>string</td><td>Markdown 数据，平台支持则转为 Markdown 消息</td></tr><tr><td>url</td><td>string</td><td>URL 数据，平台支持则转为链接消息</td></tr></tbody></table><h2 id="提及消息基类" tabindex="-1"><a class="header-anchor" href="#提及消息基类"><span>提及消息基类</span></a></h2><p>继承自<a href="#%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td><code>mention</code></td><td>消息类型</td></tr><tr><td>data</td><td>string</td><td>提及目标类型</td></tr></tbody></table><h2 id="提及用户消息" tabindex="-1"><a class="header-anchor" href="#提及用户消息"><span>提及用户消息</span></a></h2><p>继承自<a href="#%E6%8F%90%E5%8F%8A%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">提及消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>user</code></td><td>提及目标类型</td></tr><tr><td>id</td><td>string</td><td>用户标识符</td></tr><tr><td>name</td><td>string</td><td>用户名</td></tr></tbody></table><h2 id="提及全体成员消息" tabindex="-1"><a class="header-anchor" href="#提及全体成员消息"><span>提及全体成员消息</span></a></h2><p>继承自<a href="#%E6%8F%90%E5%8F%8A%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">提及消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>all</code></td><td>提及目标类型</td></tr></tbody></table><h2 id="回复消息" tabindex="-1"><a class="header-anchor" href="#回复消息"><span>回复消息</span></a></h2><p>继承自<a href="#%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td><code>reply</code></td><td>消息类型</td></tr><tr><td>data</td><td>string</td><td>消息ID</td></tr><tr><td>summary?</td><td>string</td><td>消息摘要</td></tr></tbody></table><h2 id="文件消息基类" tabindex="-1"><a class="header-anchor" href="#文件消息基类"><span>文件消息基类</span></a></h2><p>继承自<a href="#%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>string</td><td>文件名</td></tr><tr><td>summary</td><td>string</td><td>文件摘要</td></tr><tr><td>size?</td><td>number</td><td>文件字节</td></tr><tr><td>id?</td><td>string</td><td>文件标识符</td></tr><tr><td>data</td><td>string</td><td>文件数据类型</td></tr></tbody></table><h2 id="id文件消息" tabindex="-1"><a class="header-anchor" href="#id文件消息"><span>ID文件消息</span></a></h2><p>继承自<a href="#%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">文件消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>id</code></td><td>消息类型</td></tr><tr><td>id</td><td>string</td><td>文件标识符（使用API getFile(id) 获取文件）</td></tr></tbody></table><h2 id="二进制文件消息" tabindex="-1"><a class="header-anchor" href="#二进制文件消息"><span>二进制文件消息</span></a></h2><p>继承自<a href="#%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">文件消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>binary</code></td><td>消息类型</td></tr><tr><td>binary</td><td>Buffer | string</td><td>文件二进制或 base64://</td></tr></tbody></table><h2 id="url文件消息" tabindex="-1"><a class="header-anchor" href="#url文件消息"><span>URL文件消息</span></a></h2><p>继承自<a href="#%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">文件消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>url</code></td><td>消息类型</td></tr><tr><td>url</td><td>string</td><td>文件链接</td></tr></tbody></table><h2 id="本地文件消息" tabindex="-1"><a class="header-anchor" href="#本地文件消息"><span>本地文件消息</span></a></h2><p>继承自<a href="#%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">文件消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>data</td><td><code>path</code></td><td>消息类型</td></tr><tr><td>path</td><td>string</td><td>文件路径（请先判断是否位于同一系统）</td></tr></tbody></table><h2 id="媒体文件消息" tabindex="-1"><a class="header-anchor" href="#媒体文件消息"><span>媒体文件消息</span></a></h2><p>继承自<a href="#ID%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF">ID文件消息</a> | <a href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF">二进制文件消息</a> | <a href="#URL%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF">URL文件消息</a> | <a href="#%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E6%B6%88%E6%81%AF">本地文件消息</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td><code>file</code> <code>image</code> <code>voice</code> <code>audio</code> <code>video</code></td><td>消息类型</td></tr></tbody></table><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>voice 是语音类型，通常音质较低；audio 是音频类型，注重音质。<br> 为保证音质，不支持音频消息的平台，应改为发送文件而不是语音。</p></div><h2 id="按钮基类" tabindex="-1"><a class="header-anchor" href="#按钮基类"><span>按钮基类</span></a></h2><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>text</td><td>string</td><td>按钮上的文字</td></tr><tr><td>clicked_text</td><td>string</td><td>按钮点击后的文字</td></tr><tr><td>permission</td><td>string | string[]</td><td>谁能点按钮，用户ID或用户ID数组</td></tr><tr><td>平台名</td><td>平台字段</td><td>平台额外字段，非目标平台忽略</td></tr></tbody></table><h2 id="链接按钮" tabindex="-1"><a class="header-anchor" href="#链接按钮"><span>链接按钮</span></a></h2><p>继承自<a href="#%E6%8C%89%E9%92%AE%E5%9F%BA%E7%B1%BB">按钮基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>link</td><td>string</td><td>按钮链接</td></tr></tbody></table><h2 id="输入按钮" tabindex="-1"><a class="header-anchor" href="#输入按钮"><span>输入按钮</span></a></h2><p>继承自<a href="#%E6%8C%89%E9%92%AE%E5%9F%BA%E7%B1%BB">按钮基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>input</td><td>string</td><td>输入数据</td></tr><tr><td>send?</td><td>boolean</td><td>是否直接发送</td></tr></tbody></table><h2 id="回调按钮" tabindex="-1"><a class="header-anchor" href="#回调按钮"><span>回调按钮</span></a></h2><p>继承自<a href="#%E6%8C%89%E9%92%AE%E5%9F%BA%E7%B1%BB">按钮基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>callback</td><td>string</td><td>回调数据</td></tr></tbody></table><h2 id="按钮消息" tabindex="-1"><a class="header-anchor" href="#按钮消息"><span>按钮消息</span></a></h2><p>继承自<a href="#%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td><code>button</code></td><td>消息类型</td></tr><tr><td>data</td><td>(<a href="#%E9%93%BE%E6%8E%A5%E6%8C%89%E9%92%AE">链接按钮</a> | <a href="#%E8%BE%93%E5%85%A5%E6%8C%89%E9%92%AE">输入按钮</a> | <a href="#%E5%9B%9E%E8%B0%83%E6%8C%89%E9%92%AE">回调按钮</a>)[][]</td><td>按钮[行][列]</td></tr></tbody></table><h2 id="扩展消息" tabindex="-1"><a class="header-anchor" href="#扩展消息"><span>扩展消息</span></a></h2><p>继承自<a href="#%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">消息基类</a></p><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td><code>extend</code></td><td>消息类型</td></tr><tr><td>extend</td><td>string</td><td>扩展消息类型，目标平台不支持则忽略</td></tr><tr><td>data</td><td>未知</td><td>扩展消息数据</td></tr></tbody></table><h2 id="平台消息" tabindex="-1"><a class="header-anchor" href="#平台消息"><span>平台消息</span></a></h2><p>继承自<a href="#%E6%B6%88%E6%81%AF%E5%9F%BA%E7%B1%BB">消息基类</a></p><p>使用模式匹配平台名，不匹配则忽略</p><ul><li>include 目标在匹配列表</li><li>exclude 目标不在匹配列表</li><li>regexp 目标符合匹配列表正则表达式</li></ul><table><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>type</td><td><code>platform</code></td><td>消息类型</td></tr><tr><td>mode</td><td><code>include</code> <code>exclude</code> <code>regexp</code></td><td>匹配模式</td></tr><tr><td>list</td><td>string | string[]</td><td>扩展消息类型，目标平台不支持则忽略</td></tr><tr><td>data</td><td>未知</td><td>平台消息数据</td></tr></tbody></table><h2 id="消息段" tabindex="-1"><a class="header-anchor" href="#消息段"><span>消息段</span></a></h2><p>包含以上所有消息的联合类型。</p><h2 id="消息" tabindex="-1"><a class="header-anchor" href="#消息"><span>消息</span></a></h2><p>应用端发送消息时，文本消息可用 string 表示，单条消息段可不用数组：</p><p>string | <a href="#%E6%B6%88%E6%81%AF%E6%AE%B5">消息段</a> | (string | <a href="#%E6%B6%88%E6%81%AF%E6%AE%B5">消息段</a>)[]</p><p>实现端传给应用端的只会是消息数组：<a href="#%E6%B6%88%E6%81%AF%E6%AE%B5">消息段</a>[]</p>',64)])])}const p=d(h,[["render",n]]),c=JSON.parse('{"path":"/dev/proto/struct/message.html","title":"消息结构","lang":"zh-CN","frontmatter":{"title":"消息结构","icon":"code","order":3,"category":["开发指南","应用协议","结构体"],"description":"消息基类 文本消息 继承自消息基类 提及消息基类 继承自消息基类 提及用户消息 继承自提及消息基类 提及全体成员消息 继承自提及消息基类 回复消息 继承自消息基类 文件消息基类 继承自消息基类 ID文件消息 继承自文件消息基类 二进制文件消息 继承自文件消息基类 URL文件消息 继承自文件消息基类 本地文件消息 继承自文件消息基类 媒体文件消息 继承自...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"消息结构\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-24T13:08:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"🌌\\",\\"url\\":\\"https://github.com/TimeRainStarSky\\"}]}"],["meta",{"property":"og:url","content":"https://pg.trss.me/dev/proto/struct/message.html"}],["meta",{"property":"og:site_name","content":"菲莉娅 Philia"}],["meta",{"property":"og:title","content":"消息结构"}],["meta",{"property":"og:description","content":"消息基类 文本消息 继承自消息基类 提及消息基类 继承自消息基类 提及用户消息 继承自提及消息基类 提及全体成员消息 继承自提及消息基类 回复消息 继承自消息基类 文件消息基类 继承自消息基类 ID文件消息 继承自文件消息基类 二进制文件消息 继承自文件消息基类 URL文件消息 继承自文件消息基类 本地文件消息 继承自文件消息基类 媒体文件消息 继承自..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-24T13:08:38.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-24T13:08:38.000Z"}]]},"git":{"createdTime":1756040918000,"updatedTime":1756040918000,"contributors":[{"name":"🌌","username":"","email":"Time.Rain.Star.Sky@Gmail.com","commits":1}]},"readingTime":{"minutes":3.69,"words":1107},"filePathRelative":"dev/proto/struct/message.md","autoDesc":true}');export{p as comp,c as data};
